# Example secrets file for production. Copy to `secrets.env` and fill in
# values. Do NOT commit `secrets.env` to source control.

# Application secrets
# Optional encryption key for token storage (Fernet). Generate with:
# python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
SECRET_KEY=replace_with_secure_random_string
ENCRYPTION_KEY=

# Domain / TLS
DOMAIN=your.domain.example
LETSENCRYPT_EMAIL=ops@example.com

# Redis (if using local redis service)
REDIS_PASSWORD=replace_with_strong_password
REDIS_HOST=redis
REDIS_PORT=6379

# Postgres (if using local postgres service)
# Either set DATABASE_URL or the POSTGRES_* variables
# DATABASE_URL=postgresql://user:pass@postgres:5432/chesspuzzle
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=chesspuzzle
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Alternatively set a full DATABASE_URL instead of individual POSTGRES_* values
# DATABASE_URL=postgresql://postgres:postgres@postgres:5432/chesspuzzle

# Optional: if you want to use SQLite instead of Postgres
DATABASE_FILE=/var/lib/chesspuzzle/data/db.sqlite

# Recommended runtime tuning
GUNICORN_WORKERS=2

# Flask / Gunicorn runtime tuning
FLASK_ENV=production
FLASK_HOST=0.0.0.0
FLASK_PORT=5000
GUNICORN_WORKERS=3

# Lichess OAuth (optional)
LICHESS_CLIENT_ID=
LICHESS_CLIENT_SECRET=

# Allow mock login in non-production (set to 0 in production)
ALLOW_MOCK_LOGIN=0

# DB wait helper tuning (seconds)
DB_WAIT_TIMEOUT=60
DB_WAIT_INTERVAL=1.0

# Celery broker/ backend (if you need to override defaults)
# Example: CELERY_BROKER_URL=redis://:password@redis:6379/0
# CELERY_RESULT_BACKEND=redis://:password@redis:6379/0
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0
